---
title: "Google Mobility Report"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
rm(list=ls())

library(dplyr)
library(ggplot2)

data = read.csv('Global_Mobility_Report.csv')
```

> Kita dimata-matai!

Kalimat itu spontan keluar dari rekan saya saat saya _share_ [_Google Mobility Report_](https://www.google.com/covid19/mobility/) ke salah satu _WhatsApp Group_ yang saya ikuti.

## Apa itu _Google Mobility Report_ ?

_Google_ sebagai pemegang _market share_ nomor satu untuk _mobile device_ OS di dunia ini "memiliki kuasa" atas data _location history_ dari _gadget Android_ kita. 

```{r,echo=FALSE,fig.retina=10,warning=FALSE}
data.frame(
  os = c('Android','iOS','Windows','BlackBerryOS','Symbian','Others'),
  share = c(76.24,22.48,.17,.02,.02,1.07)
) %>% 
  mutate(label = paste0(os,': ',share,'%'),
         label = ifelse(share>20,label,NA)) %>% 
  ggplot(aes(x = '',
             y = share,
             fill = os,
             label = label)) + 
  geom_bar(stat = 'identity',color = 'black') + 
  geom_label(position = position_stack(vjust = 0.5)) +
  coord_polar(theta = 'y') +
  scale_fill_brewer(palette = 'Pastel1') +
  theme_void() +
  labs(title = 'Market Share Mobile OS on September 2019',
       subtitle = "Source: StatCounter Global Stats") +
  theme(legend.position = 'none')
```
Tanpa disadari oleh para penggunanya, sebenarnya _anonymous data_ tersebut dikumpulkan dan bisa dianalisa sedemikian rupa oleh _Google_. Oleh karena kejadian luar biasa pandemi Covid 19, _Google_ menganalisa mobilitas para pengguna gadgetnya di seluruh dunia. Apakah dengan adanya karantina wilayah, mobilitas orang-orang benar menurun atau tidak?

```{r}
data %>% 
  filter(grepl('east java',sub_region_1,ignore.case = T)) %>% 
  mutate(date = as.Date(date)) %>% 
  select(date,retail_and_recreation_percent_change_from_baseline, grocery_and_pharmacy_percent_change_from_baseline,
         parks_percent_change_from_baseline,transit_stations_percent_change_from_baseline,
         workplaces_percent_change_from_baseline,residential_percent_change_from_baseline) %>% 
  reshape2::melt(id.vars='date') %>% 
  mutate(variable = gsub('_percent_change_from_baseline','',variable)) %>% 
  ggplot(aes(x = date,y = value,color = variable)) +
  geom_line() +
  scale_color_brewer(palette = 'Dark2') +
  theme_minimal() +
  labs(title = 'Mobilitas Warga Jawa Timur',
       subtitle = 'source: Google Mobility Reports',
       caption = 'ikanx101.github.io',
       color = 'Keterangan',
       x = 'Tanggal',
       y = 'Percent change from baseline') +
  theme(legend.position = 'bottom')
```

Google LLC "Google COVID-19 Community Mobility Reports".
https://www.google.com/covid19/mobility/ Accessed: 30 Jun 2020 16:10 WIB.