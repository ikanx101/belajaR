---
title: "Urban Legend Lagu The Beatles"
subtitle: "Uncovering the Truth"
author: "ikanx101.github.io"
date: "Agt 4, 2020"
output: 
  pdf_document:
    toc: true
    number_sections: true
    fig_width: 6
    fig_height: 3
    fig_caption: true
    highlight: tango
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(rvest)
library(dplyr)
library(tidyr)
library(ggplot2)
library(tidytext)
library(ggpubr)
library(igraph)
library(ggraph)

setwd("~/Documents/belajaR/Bukan Infografis/The Beatles")
rm(list=ls())
load('lirik.rda')

```

# ABSTRAK

_The Beatles_ adalah salah satu grup band legendaris di dunia. Sudah banyak lagu _hits_ yang dikeluarkan oleh mereka. Konon katanya semua lirik lagu _The Beatles_ ditulis dari sudut pandang orang pertama. Menggunakan __R__, saya akan melakukan _text analysis_ untuk mengecek kebenaran dari _urban legend_ tersebut.

# Pendahuluan

## Latar Belakang

Siapa sih yang tidak mengenal band legendaris Inggris _The Beatles_? Mungkin cuma anak-anak _millenials_ yang gak pernah mendengarnya. _hehe._

Ceritanya, sejak SMA saya dan beberapa teman memiliki kesukaan terhadap lagu-lagu _The Beatles_. Hingga suatu momen kami nge-_band_ dan nge-_jam_ lagu-lagu tersebut. Tidak disangka ternyata ayah dari salah satu teman saya memiliki _official books_ dari _The Beatles_.

Walaupun buku tersebut berisi banyak hal mengenai _John Lennon_ dan _Paul McCartney_ _cs_, saya hanya tertarik pada bagian partitur dan _chord_ lagu-lagunya. Ada satu _urban legend_ yang ditulis di buku tersebut:

> __Konon katanya, semua lirik lagu the Beatles ditulis dari sudut pandang orang pertama.__

Maksudnya, lirik lagunya selalu menggunakan kata `saya` (dalam bahasa inggris jadi _me_, _I_, atau _my_). Jadi bukan bercerita dari sudut pandang orang ketiga.

Sekian tahun berlalu hingga kemarin saya coba iseng membuktikan kebenaran dari _urban legend_ tersebut. Apakah benar semua lagu _The Beatles_ ditulis dari _1st person POV_?

## Metodologi

Berdasarkan informasi dari _Google_ dan _Wikipedia_, setidaknya _The Beatles_ telah membuat setidaknya `117` buah lagu. Tapi, kalau saya cek di beberapa situs lain seperti: [www.lyricsfreak.com](https://www.lyricsfreak.com/), jumlahnya mencapai `200` buah lagu.

Saya akan _scrap_ semua judul dan lirik lagu dari _The Beatles_ dari situs tersebut.

### _Scrape Function_

Untuk melakukan _scraping_ dari lirik dari situs tersebut, saya menggunakan __R__ dengan _function_ berikut ini:

```{r}
scrap_lirik = function(url){
  data = read_html(url) %>% {
    tibble(
      judul = html_nodes(.,'.lyric-song-head') %>% html_text(),
      lirik = html_nodes(.,'#content') %>% html_text()
    )
  } %>% 
    mutate(judul = gsub("\\'",' ',judul),
           judul = janitor::make_clean_names(judul),
           judul = gsub('\\_',' ',judul),
           lirik = gsub("\\'",' ',lirik),
           lirik = janitor::make_clean_names(lirik),
           lirik = gsub('\\_',' ',lirik))
  return(data)
}
```

Cukup masukkan _link_ dari _lyricsfreak_ ke dalam _function_ tersebut.

## Data Hasil _Scrape_

Data hasil _scrape_ dari `200` lagu tersebut ada di lampiran.

# Hasil _Text Analysis_

## Analisa _1st POV_

Ternyata, dari `200` lagu yang ada tersebut, ada `22` lagu yang secara eksplisit tidak menggunakan kata `saya`.

```{r,echo=FALSE}
data.frame(label=c('1st person pov','not 1st person pov'),value=c(200-22,22)) %>%
  mutate(percent=100*value/sum(value)) %>% 
  ggplot(aes(x=label,y=percent)) +
  geom_col(fill='white',color='blue',size=1) +
  theme_pubclean() +
  geom_label(aes(label=paste(value,'lagu',sep=' ')),size=4) +
  labs(title = 'Apa benar bahwa semua lagu the Beatles ditulis dari 1st person POV?',
       subtitle = 'source: Semua lagu yang bisa diambil dari www.lyricsfreak.com',
       caption = 'Scraped and Visualised\nusing R\ni k A n x') +
  theme(plot.title = element_text(face='bold.italic'),
        axis.title = element_blank(),
        axis.text.x = element_text(face='bold'),
        axis.text.y = element_blank(),
        plot.caption = element_text(face='italic'))
```

# Lampiran

## Data Hasil _Scrape_

```{r,echo=FALSE}
data = 
  data %>% 
  mutate(id = NULL,
         judul = gsub('the beatles ','',judul),
         lirik = gsub('x ','',lirik,fixed = T))
knitr::kable(data,'pipe',booktabs = T,row.names = NA,caption = 'Hasil Scrape') 
```




